try{if(typeof(jQuery)=="undefined"){var Zepto=(function(){var o,v,G,a,O=[],r=O.slice,H=O.filter,i=window.document,L={},P={},X={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},z=/^\s*<(\w+|!)[^>]*>/,N=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,l=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,J=/^(?:body|html)$/i,q=/([A-Z])/g,F=["val","css","html","text","data","width","height","offset"],A=["after","prepend","before","append"],w=i.createElement("table"),Q=i.createElement("tr"),j={tr:i.createElement("tbody"),tbody:w,thead:w,tfoot:w,td:Q,th:Q,"*":i.createElement("div")},x=/complete|loaded|interactive/,m=/^[\w-]*$/,f={},h=f.toString,d={},V,R,I=i.createElement("div"),Y={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},C=Array.isArray||function(ab){return ab instanceof Array};d.matches=function(af,ab){if(!ab||!af||af.nodeType!==1){return false}var ad=af.webkitMatchesSelector||af.mozMatchesSelector||af.oMatchesSelector||af.matchesSelector;if(ad){return ad.call(af,ab)}var ae,ag=af.parentNode,ac=!ag;if(ac){(ag=I).appendChild(af)}ae=~d.qsa(ag,ab).indexOf(af);ac&&I.removeChild(af);return ae};function aa(ab){return ab==null?String(ab):f[h.call(ab)]||"object"}function s(ab){return aa(ab)=="function"}function M(ab){return ab!=null&&ab==ab.window}function y(ab){return ab!=null&&ab.nodeType==ab.DOCUMENT_NODE}function K(ab){return aa(ab)=="object"}function Z(ab){return K(ab)&&!M(ab)&&Object.getPrototypeOf(ab)==Object.prototype}function D(ab){return typeof ab.length=="number"}function W(ab){return H.call(ab,function(ac){return ac!=null})}function E(ab){return ab.length>0?G.fn.concat.apply([],ab):ab}V=function(ab){return ab.replace(/-+(.)?/g,function(ac,ad){return ad?ad.toUpperCase():""})};function p(ab){return ab.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}R=function(ab){return H.call(ab,function(ad,ac){return ab.indexOf(ad)==ac})};function S(ab){return ab in P?P[ab]:(P[ab]=new RegExp("(^|\\s)"+ab+"(\\s|$)"))}function g(ab,ac){return(typeof ac=="number"&&!X[p(ab)])?ac+"px":ac}function T(ad){var ab,ac;if(!L[ad]){ab=i.createElement(ad);i.body.appendChild(ab);ac=getComputedStyle(ab,"").getPropertyValue("display");ab.parentNode.removeChild(ab);ac=="none"&&(ac="block");L[ad]=ac}return L[ad]}function u(ab){return"children" in ab?r.call(ab.children):G.map(ab.childNodes,function(ac){if(ac.nodeType==1){return ac}})}d.fragment=function(af,ad,ae){var ag,ac,ab;if(N.test(af)){ag=G(i.createElement(RegExp.$1))}if(!ag){if(af.replace){af=af.replace(l,"<$1></$2>")}if(ad===o){ad=z.test(af)&&RegExp.$1}if(!(ad in j)){ad="*"}ab=j[ad];ab.innerHTML=""+af;ag=G.each(r.call(ab.childNodes),function(){ab.removeChild(this)})}if(Z(ae)){ac=G(ag);G.each(ae,function(ah,ai){if(F.indexOf(ah)>-1){ac[ah](ai)}else{ac.attr(ah,ai)}})}return ag};d.Z=function(ac,ab){ac=ac||[];ac.__proto__=G.fn;ac.selector=ab||"";return ac};d.isZ=function(ab){return ab instanceof d.Z};d.init=function(ab,ac){var ad;if(!ab){return d.Z()}else{if(typeof ab=="string"){ab=ab.trim();if(ab[0]=="<"&&z.test(ab)){ad=d.fragment(ab,RegExp.$1,ac),ab=null}else{if(ac!==o){return G(ac).find(ab)}else{ad=d.qsa(i,ab)}}}else{if(s(ab)){return G(i).ready(ab)}else{if(d.isZ(ab)){return ab}else{if(C(ab)){ad=W(ab)}else{if(K(ab)){ad=[ab],ab=null}else{if(z.test(ab)){ad=d.fragment(ab.trim(),RegExp.$1,ac),ab=null}else{if(ac!==o){return G(ac).find(ab)}else{ad=d.qsa(i,ab)}}}}}}}}return d.Z(ad,ab)};G=function(ab,ac){return d.init(ab,ac)};function n(ad,ac,ab){for(v in ac){if(ab&&(Z(ac[v])||C(ac[v]))){if(Z(ac[v])&&!Z(ad[v])){ad[v]={}}if(C(ac[v])&&!C(ad[v])){ad[v]=[]}n(ad[v],ac[v],ab)}else{if(ac[v]!==o){ad[v]=ac[v]}}}}G.extend=function(ad){var ab,ac=r.call(arguments,1);if(typeof ad=="boolean"){ab=ad;ad=ac.shift()}ac.forEach(function(ae){n(ad,ae,ab)});return ad};d.qsa=function(ad,ab){var ag,ah=ab[0]=="#",ac=!ah&&ab[0]==".",ae=ah||ac?ab.slice(1):ab,af=m.test(ae);return(y(ad)&&af&&ah)?((ag=ad.getElementById(ae))?[ag]:[]):(ad.nodeType!==1&&ad.nodeType!==9)?[]:r.call(af&&!ah?ac?ad.getElementsByClassName(ae):ad.getElementsByTagName(ab):ad.querySelectorAll(ab))};function B(ac,ab){return ab==null?G(ac):G(ac).filter(ab)}G.contains=function(ab,ac){return ab!==ac&&ab.contains(ac)};function t(ad,ac,ab,ae){return s(ac)?ac.call(ad,ab,ae):ac}function b(ac,ab,ad){ad==null?ac.removeAttribute(ab):ac.setAttribute(ab,ad)}function U(ad,ae){var ab=ad.className,ac=ab&&ab.baseVal!==o;if(ae===o){return ac?ab.baseVal:ab}ac?(ab.baseVal=ae):(ad.className=ae)}function k(ac){var ab;try{return ac?ac=="true"||(ac=="false"?false:ac=="null"?null:!/^0/.test(ac)&&!isNaN(ab=Number(ac))?ab:/^[\[\{]/.test(ac)?G.parseJSON(ac):ac):ac}catch(ad){return ac}}G.type=aa;G.isFunction=s;G.isWindow=M;G.isArray=C;G.isPlainObject=Z;G.isEmptyObject=function(ac){var ab;for(ab in ac){return false}return true};G.inArray=function(ac,ad,ab){return O.indexOf.call(ad,ac,ab)};G.camelCase=V;G.trim=function(ab){return ab==null?"":String.prototype.trim.call(ab)};G.uuid=0;G.support={};G.expr={};G.map=function(af,ag){var ae,ab=[],ad,ac;if(D(af)){for(ad=0;ad<af.length;ad++){ae=ag(af[ad],ad);if(ae!=null){ab.push(ae)}}}else{for(ac in af){ae=ag(af[ac],ac);if(ae!=null){ab.push(ae)}}}return E(ab)};G.each=function(ad,ae){var ac,ab;if(D(ad)){for(ac=0;ac<ad.length;ac++){if(ae.call(ad[ac],ac,ad[ac])===false){return ad}}}else{for(ab in ad){if(ae.call(ad[ab],ab,ad[ab])===false){return ad}}}return ad};G.grep=function(ab,ac){return H.call(ab,ac)};if(window.JSON){G.parseJSON=JSON.parse}G.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(ac,ab){f["[object "+ab+"]"]=ab.toLowerCase()});G.fn={forEach:O.forEach,reduce:O.reduce,push:O.push,sort:O.sort,indexOf:O.indexOf,concat:O.concat,map:function(ab){return G(G.map(this,function(ad,ac){return ab.call(ad,ac,ad)}))},slice:function(){return G(r.apply(this,arguments))},ready:function(ab){if(x.test(i.readyState)&&i.body){ab(G)}else{i.addEventListener("DOMContentLoaded",function(){ab(G)},false)}return this},get:function(ab){return ab===o?r.call(this):this[ab>=0?ab:ab+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){if(this.parentNode!=null){this.parentNode.removeChild(this)}})},each:function(ab){O.every.call(this,function(ad,ac){return ab.call(ad,ac,ad)!==false});return this},filter:function(ab){if(s(ab)){return this.not(this.not(ab))}return G(H.call(this,function(ac){return d.matches(ac,ab)}))},add:function(ab,ac){return G(R(this.concat(G(ab,ac))))},is:function(ab){return this.length>0&&d.matches(this[0],ab)},not:function(ab){var ac=[];if(s(ab)&&ab.call!==o){this.each(function(ae){if(!ab.call(this,ae)){ac.push(this)}})}else{var ad=typeof ab=="string"?this.filter(ab):(D(ab)&&s(ab.item))?r.call(ab):G(ab);this.forEach(function(ae){if(ad.indexOf(ae)<0){ac.push(ae)}})}return G(ac)},has:function(ab){return this.filter(function(){return K(ab)?G.contains(this,ab):G(this).find(ab).size()})},eq:function(ab){return ab===-1?this.slice(ab):this.slice(ab,+ab+1)},first:function(){var ab=this[0];return ab&&!K(ab)?ab:G(ab)},last:function(){var ab=this[this.length-1];return ab&&!K(ab)?ab:G(ab)},find:function(ac){var ab,ad=this;if(typeof ac=="object"){ab=G(ac).filter(function(){var ae=this;return O.some.call(ad,function(af){return G.contains(af,ae)})})}else{if(this.length==1){ab=G(d.qsa(this[0],ac))}else{ab=this.map(function(){return d.qsa(this,ac)})}}return ab},closest:function(ab,ac){var ad=this[0],ae=false;if(typeof ab=="object"){ae=G(ab)}while(ad&&!(ae?ae.indexOf(ad)>=0:d.matches(ad,ab))){ad=ad!==ac&&!y(ad)&&ad.parentNode}return G(ad)},parents:function(ab){var ad=[],ac=this;while(ac.length>0){ac=G.map(ac,function(ae){if((ae=ae.parentNode)&&!y(ae)&&ad.indexOf(ae)<0){ad.push(ae);return ae}})}return B(ad,ab)},parent:function(ab){return B(R(this.pluck("parentNode")),ab)},children:function(ab){return B(this.map(function(){return u(this)}),ab)},contents:function(){return this.map(function(){return r.call(this.childNodes)})},siblings:function(ab){return B(this.map(function(ac,ad){return H.call(u(ad.parentNode),function(ae){return ae!==ad})}),ab)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(ab){return G.map(this,function(ac){return ac[ab]})},show:function(){return this.each(function(){this.style.display=="none"&&(this.style.display="");if(getComputedStyle(this,"").getPropertyValue("display")=="none"){this.style.display=T(this.nodeName)}})},replaceWith:function(ab){return this.before(ab).remove()},wrap:function(ab){var ac=s(ab);if(this[0]&&!ac){var ad=G(ab).get(0),ae=ad.parentNode||this.length>1}return this.each(function(af){G(this).wrapAll(ac?ab.call(this,af):ae?ad.cloneNode(true):ad)})},wrapAll:function(ab){if(this[0]){G(this[0]).before(ab=G(ab));var ac;while((ac=ab.children()).length){ab=ac.first()}G(ab).append(this)}return this},wrapInner:function(ab){var ac=s(ab);return this.each(function(ae){var ad=G(this),af=ad.contents(),ag=ac?ab.call(this,ae):ab;af.length?af.wrapAll(ag):ad.append(ag)})},unwrap:function(){this.parent().each(function(){G(this).replaceWith(G(this).children())});return this},clone:function(){return this.map(function(){return this.cloneNode(true)})},hide:function(){return this.css("display","none")},toggle:function(ab){return this.each(function(){var ac=G(this);(ab===o?ac.css("display")=="none":ab)?ac.show():ac.hide()})},prev:function(ab){return G(this.pluck("previousElementSibling")).filter(ab||"*")},next:function(ab){return G(this.pluck("nextElementSibling")).filter(ab||"*")},html:function(ab){return arguments.length===0?(this.length>0?this[0].innerHTML:null):this.each(function(ac){var ad=this.innerHTML;G(this).empty().append(t(this,ab,ac,ad))})},text:function(ab){return arguments.length===0?(this.length>0?this[0].textContent:null):this.each(function(){this.textContent=(ab===o)?"":""+ab})},attr:function(ac,ad){var ab;return(typeof ac=="string"&&ad===o)?(this.length==0||this[0].nodeType!==1?o:(ac=="value"&&this[0].nodeName=="INPUT")?this.val():(!(ab=this[0].getAttribute(ac))&&ac in this[0])?this[0][ac]:ab):this.each(function(ae){if(this.nodeType!==1){return}if(K(ac)){for(v in ac){b(this,v,ac[v])}}else{b(this,ac,t(this,ad,ae,this.getAttribute(ac)))}})},removeAttr:function(ab){return this.each(function(){this.nodeType===1&&b(this,ab)})},prop:function(ab,ac){ab=Y[ab]||ab;return(ac===o)?(this[0]&&this[0][ab]):this.each(function(ad){this[ab]=t(this,ac,ad,this[ab])})},data:function(ab,ad){var ac=this.attr("data-"+ab.replace(q,"-$1").toLowerCase(),ad);return ac!==null?k(ac):o},val:function(ab){return arguments.length===0?(this[0]&&(this[0].multiple?G(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)):this.each(function(ac){this.value=t(this,ab,ac,this.value)})},offset:function(ac){if(ac){return this.each(function(ae){var ah=G(this),ag=t(this,ac,ae,ah.offset()),ad=ah.offsetParent().offset(),af={top:ag.top-ad.top,left:ag.left-ad.left};if(ah.css("position")=="static"){af.position="relative"}ah.css(af)})}if(this.length==0){return null}var ab=this[0].getBoundingClientRect();return{left:ab.left+window.pageXOffset,top:ab.top+window.pageYOffset,width:Math.round(ab.width),height:Math.round(ab.height)}},css:function(ag,af){if(arguments.length<2){var ad=this[0],ab=getComputedStyle(ad,"");if(!ad){return}if(typeof ag=="string"){return ad.style[V(ag)]||ab.getPropertyValue(ag)}else{if(C(ag)){var ae={};G.each(C(ag)?ag:[ag],function(ah,ai){ae[ai]=(ad.style[V(ai)]||ab.getPropertyValue(ai))});return ae}}}var ac="";if(aa(ag)=="string"){if(!af&&af!==0){this.each(function(){this.style.removeProperty(p(ag))})}else{ac=p(ag)+":"+g(ag,af)}}else{for(v in ag){if(!ag[v]&&ag[v]!==0){this.each(function(){this.style.removeProperty(p(v))})}else{ac+=p(v)+":"+g(v,ag[v])+";"}}}return this.each(function(){this.style.cssText+=";"+ac})},index:function(ab){return ab?this.indexOf(G(ab)[0]):this.parent().children().indexOf(this[0])},hasClass:function(ab){if(!ab){return false}return O.some.call(this,function(ac){return this.test(U(ac))},S(ab))},addClass:function(ab){if(!ab){return this}return this.each(function(ac){a=[];var ae=U(this),ad=t(this,ab,ac,ae);ad.split(/\s+/g).forEach(function(af){if(!G(this).hasClass(af)){a.push(af)}},this);a.length&&U(this,ae+(ae?" ":"")+a.join(" "))})},removeClass:function(ab){return this.each(function(ac){if(ab===o){return U(this,"")}a=U(this);t(this,ab,ac,a).split(/\s+/g).forEach(function(ad){a=a.replace(S(ad)," ")});U(this,a.trim())})},toggleClass:function(ac,ab){if(!ac){return this}return this.each(function(ad){var af=G(this),ae=t(this,ac,ad,U(this));ae.split(/\s+/g).forEach(function(ag){(ab===o?!af.hasClass(ag):ab)?af.addClass(ag):af.removeClass(ag)})})},scrollTop:function(ac){if(!this.length){return}var ab="scrollTop" in this[0];if(ac===o){return ab?this[0].scrollTop:this[0].pageYOffset}return this.each(ab?function(){this.scrollTop=ac}:function(){this.scrollTo(this.scrollX,ac)})},scrollLeft:function(ac){if(!this.length){return}var ab="scrollLeft" in this[0];if(ac===o){return ab?this[0].scrollLeft:this[0].pageXOffset}return this.each(ab?function(){this.scrollLeft=ac}:function(){this.scrollTo(ac,this.scrollY)})},position:function(){if(!this.length){return}var ad=this[0],ac=this.offsetParent(),ae=this.offset(),ab=J.test(ac[0].nodeName)?{top:0,left:0}:ac.offset();ae.top-=parseFloat(G(ad).css("margin-top"))||0;ae.left-=parseFloat(G(ad).css("margin-left"))||0;ab.top+=parseFloat(G(ac[0]).css("border-top-width"))||0;ab.left+=parseFloat(G(ac[0]).css("border-left-width"))||0;return{top:ae.top-ab.top,left:ae.left-ab.left}},offsetParent:function(){return this.map(function(){var ab=this.offsetParent||i.body;while(ab&&!J.test(ab.nodeName)&&G(ab).css("position")=="static"){ab=ab.offsetParent}return ab})}};G.fn.detach=G.fn.remove;["width","height"].forEach(function(ac){var ab=ac.replace(/./,function(ad){return ad[0].toUpperCase()});G.fn[ac]=function(ae){var af,ad=this[0];if(ae===o){return M(ad)?ad["inner"+ab]:y(ad)?ad.documentElement["scroll"+ab]:(af=this.offset())&&af[ac]}else{return this.each(function(ag){ad=G(this);ad.css(ac,t(this,ae,ag,ad[ac]()))})}}});function c(ad,ab){ab(ad);for(var ac in ad.childNodes){c(ad.childNodes[ac],ab)}}A.forEach(function(ad,ac){var ab=ac%2;G.fn[ad]=function(){var ae,af=G.map(arguments,function(ai){ae=aa(ai);return ae=="object"||ae=="array"||ai==null?ai:d.fragment(ai)}),ag,ah=this.length>1;if(af.length<1){return this}return this.each(function(ai,aj){ag=ab?aj:aj.parentNode;aj=ac==0?aj.nextSibling:ac==1?aj.firstChild:ac==2?aj:null;af.forEach(function(ak){if(ah){ak=ak.cloneNode(true)}else{if(!ag){return G(ak).remove()}}c(ag.insertBefore(ak,aj),function(al){if(al.nodeName!=null&&al.nodeName.toUpperCase()==="SCRIPT"&&(!al.type||al.type==="text/javascript")&&!al.src){window["eval"].call(window,al.innerHTML)}})})})};G.fn[ab?ad+"To":"insert"+(ac?"Before":"After")]=function(ae){G(ae)[ad](this);return this}});d.Z.prototype=G.fn;d.uniq=R;d.deserializeValue=k;G.zepto=d;return G})();window.Zepto=Zepto;window.$===undefined&&(window.$=Zepto);(function(d){var g=1,i,t=Array.prototype.slice,a=d.isFunction,l=function(A){return typeof A=="string"},s={},p={},h="onfocusin" in window,q={focus:"focusin",blur:"focusout"},x={mouseenter:"mouseover",mouseleave:"mouseout"};p.click=p.mousedown=p.mouseup=p.mousemove="MouseEvents";function b(A){return A._zid||(A._zid=g++)}function m(B,D,C,A){D=r(D);if(D.ns){var E=w(D.ns)}return(s[b(B)]||[]).filter(function(F){return F&&(!D.e||F.e==D.e)&&(!D.ns||E.test(F.ns))&&(!C||b(F.fn)===b(C))&&(!A||F.sel==A)})}function r(A){var B=(""+A).split(".");return{e:B[0],ns:B.slice(1).sort().join(" ")}}function w(A){return new RegExp("(?:^| )"+A.replace(" "," .* ?")+"(?: |$)")}function k(A,B){return A.del&&(!h&&(A.e in q))||!!B}function v(A){return x[A]||(h&&q[A])||A}function o(D,H,E,C,B,I,G){var A=b(D),F=(s[A]||(s[A]=[]));H.split(/\s/).forEach(function(K){if(K=="ready"){return d(document).ready(E)}var J=r(K);J.fn=E;J.sel=B;if(J.e in x){E=function(N){var M=N.relatedTarget;if(!M||(M!==this&&!d.contains(this,M))){return J.fn.apply(this,arguments)}}}J.del=I;var L=I||E;J.proxy=function(N){N=y(N);if(N.isImmediatePropagationStopped()){return}N.data=C;var M=L.apply(D,N._args==i?[N]:[N].concat(N._args));if(M===false){N.preventDefault(),N.stopPropagation()}return M};J.i=F.length;F.push(J);if("addEventListener" in D){D.addEventListener(v(J.e),J.proxy,k(J,G))}})}function z(D,C,E,A,B){var F=b(D);(C||"").split(/\s/).forEach(function(G){m(D,G,E,A).forEach(function(H){delete s[F][H.i];if("removeEventListener" in D){D.removeEventListener(v(H.e),H.proxy,k(H,B))}})})}d.event={add:o,remove:z};d.proxy=function(C,B){if(a(C)){var A=function(){return C.apply(B,arguments)};A._zid=b(C);return A}else{if(l(B)){return d.proxy(C[B],C)}else{throw new TypeError("expected function")}}};d.fn.bind=function(A,B,C){return this.on(A,B,C)};d.fn.unbind=function(A,B){return this.off(A,B)};d.fn.one=function(B,A,C,D){return this.on(B,A,C,D,1)};var u=function(){return true},j=function(){return false},f=/^([A-Z]|returnValue$|layer[XY]$)/,n={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};function y(A,B){if(B||!A.isDefaultPrevented){B||(B=A);d.each(n,function(D,C){var E=B[D];A[D]=function(){this[C]=u;return E&&E.apply(B,arguments)};A[C]=j});if(B.defaultPrevented!==i?B.defaultPrevented:"returnValue" in B?B.returnValue===false:B.getPreventDefault&&B.getPreventDefault()){A.isDefaultPrevented=u}}return A}function c(C){var B,A={originalEvent:C};for(B in C){if(!f.test(B)&&C[B]!==i){A[B]=C[B]}}return y(A,C)}d.fn.delegate=function(A,B,C){return this.on(B,A,C)};d.fn.undelegate=function(A,B,C){return this.off(B,A,C)};d.fn.live=function(A,B){d(document.body).delegate(this.selector,A,B);return this};d.fn.die=function(A,B){d(document.body).undelegate(this.selector,A,B);return this};d.fn.on=function(E,A,F,H,D){var C,B,G=this;if(E&&!l(E)){d.each(E,function(J,I){G.on(J,A,F,I,D)});return G}if(!l(A)&&!a(H)&&H!==false){H=F,F=A,A=i}if(a(F)||F===false){H=F,F=i}if(H===false){H=j}return G.each(function(I,J){if(D){C=function(K){z(J,K.type,H);return H.apply(this,arguments)}}if(A){B=function(M){var K,L=d(M.target).closest(A,J).get(0);if(L&&L!==J){K=d.extend(c(M),{currentTarget:L,liveFired:J});return(C||H).apply(L,[K].concat(t.call(arguments,1)))}}}o(J,E,H,F,A,B||C)})};d.fn.off=function(B,A,D){var C=this;if(B&&!l(B)){d.each(B,function(F,E){C.off(F,A,E)});return C}if(!l(A)&&!a(D)&&D!==false){D=A,A=i}if(D===false){D=j}return C.each(function(){z(this,B,D,A)})};d.fn.trigger=function(B,A){B=(l(B)||d.isPlainObject(B))?d.Event(B):y(B);B._args=A;return this.each(function(){if("dispatchEvent" in this){this.dispatchEvent(B)}else{d(this).triggerHandler(B,A)}})};d.fn.triggerHandler=function(C,B){var D,A;this.each(function(F,E){D=c(l(C)?d.Event(C):C);D._args=B;D.target=E;d.each(m(E,C.type||C),function(G,H){A=H.proxy(D);if(D.isImmediatePropagationStopped()){return false}})});return A};("focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error").split(" ").forEach(function(A){d.fn[A]=function(B){return B?this.bind(A,B):this.trigger(A)}});["focus","blur"].forEach(function(A){d.fn[A]=function(B){if(B){this.bind(A,B)}else{this.each(function(){try{this[A]()}catch(C){}})}return this}});d.Event=function(D,C){if(!l(D)){C=D,D=C.type}var E=document.createEvent(p[D]||"Events"),A=true;if(C){for(var B in C){(B=="bubbles")?(A=!!C[B]):(E[B]=C[B])}}E.initEvent(D,A,true);return y(E)}})(Zepto);(function($){var jsonpID=0,document=window.document,key,name,rscript=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,scriptTypeRE=/^(?:text|application)\/javascript/i,xmlTypeRE=/^(?:text|application)\/xml/i,jsonType="application/json",htmlType="text/html",blankRE=/^\s*$/;function triggerAndReturn(context,eventName,data){var event=$.Event(eventName);$(context).trigger(event,data);return !event.isDefaultPrevented()}function triggerGlobal(settings,context,eventName,data){if(settings.global){return triggerAndReturn(context||document,eventName,data)}}$.active=0;function ajaxStart(settings){if(settings.global&&$.active++===0){triggerGlobal(settings,null,"ajaxStart")}}function ajaxStop(settings){if(settings.global&&!(--$.active)){triggerGlobal(settings,null,"ajaxStop")}}function ajaxBeforeSend(xhr,settings){var context=settings.context;if(settings.beforeSend.call(context,xhr,settings)===false||triggerGlobal(settings,context,"ajaxBeforeSend",[xhr,settings])===false){return false}triggerGlobal(settings,context,"ajaxSend",[xhr,settings])}function ajaxSuccess(data,xhr,settings,deferred){var context=settings.context,status="success";settings.success.call(context,data,status,xhr);if(deferred){deferred.resolveWith(context,[data,status,xhr])}triggerGlobal(settings,context,"ajaxSuccess",[xhr,settings,data]);ajaxComplete(status,xhr,settings)}function ajaxError(error,type,xhr,settings,deferred){var context=settings.context;settings.error.call(context,xhr,type,error);if(deferred){deferred.rejectWith(context,[xhr,type,error])}triggerGlobal(settings,context,"ajaxError",[xhr,settings,error||type]);ajaxComplete(type,xhr,settings)}function ajaxComplete(status,xhr,settings){var context=settings.context;settings.complete.call(context,xhr,status);triggerGlobal(settings,context,"ajaxComplete",[xhr,settings]);ajaxStop(settings)}function empty(){}$.ajaxJSONP=function(options,deferred){if(!("type" in options)){return $.ajax(options)}var _callbackName=options.jsonpCallback,callbackName=($.isFunction(_callbackName)?_callbackName():_callbackName)||("jsonp"+(++jsonpID)),script=document.createElement("script"),originalCallback=window[callbackName],responseData,abort=function(errorType){$(script).triggerHandler("error",errorType||"abort")},xhr={abort:abort},abortTimeout;if(deferred){deferred.promise(xhr)}$(script).on("load error",function(e,errorType){clearTimeout(abortTimeout);$(script).off().remove();if(e.type=="error"||!responseData){ajaxError(null,errorType||"error",xhr,options,deferred)}else{ajaxSuccess(responseData[0],xhr,options,deferred)}window[callbackName]=originalCallback;if(responseData&&$.isFunction(originalCallback)){originalCallback(responseData[0])}originalCallback=responseData=undefined});if(ajaxBeforeSend(xhr,options)===false){abort("abort");return xhr}window[callbackName]=function(){responseData=arguments};script.src=options.url.replace(/\?(.+)=\?/,"?$1="+callbackName);document.head.appendChild(script);if(options.timeout>0){abortTimeout=setTimeout(function(){abort("timeout")},options.timeout)}return xhr};$.ajaxSettings={type:"GET",beforeSend:empty,success:empty,error:empty,complete:empty,context:null,global:true,xhr:function(){return new window.XMLHttpRequest()},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:jsonType,xml:"application/xml, text/xml",html:htmlType,text:"text/plain"},crossDomain:false,timeout:0,processData:true,cache:true};function mimeToDataType(mime){if(mime){mime=mime.split(";",2)[0]}return mime&&(mime==htmlType?"html":mime==jsonType?"json":scriptTypeRE.test(mime)?"script":xmlTypeRE.test(mime)&&"xml")||"text"}function appendQuery(url,query){if(query==""){return url}return(url+"&"+query).replace(/[&?]{1,2}/,"?")}function serializeData(options){if(options.processData&&options.data&&$.type(options.data)!="string"){options.data=$.param(options.data,options.traditional)}if(options.data&&(!options.type||options.type.toUpperCase()=="GET")){options.url=appendQuery(options.url,options.data),options.data=undefined}}$.ajax=function(options){var settings=$.extend({},options||{}),deferred=$.Deferred&&$.Deferred();for(key in $.ajaxSettings){if(settings[key]===undefined){settings[key]=$.ajaxSettings[key]}}ajaxStart(settings);if(!settings.crossDomain){settings.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(settings.url)&&RegExp.$2!=window.location.host}if(!settings.url){settings.url=window.location.toString()}serializeData(settings);if(settings.cache===false){settings.url=appendQuery(settings.url,"_="+Date.now())}var dataType=settings.dataType,hasPlaceholder=/\?.+=\?/.test(settings.url);if(dataType=="jsonp"||hasPlaceholder){if(!hasPlaceholder){settings.url=appendQuery(settings.url,settings.jsonp?(settings.jsonp+"=?"):settings.jsonp===false?"":"callback=?")}return $.ajaxJSONP(settings,deferred)}var mime=settings.accepts[dataType],headers={},setHeader=function(name,value){headers[name.toLowerCase()]=[name,value]},protocol=/^([\w-]+:)\/\//.test(settings.url)?RegExp.$1:window.location.protocol,xhr=settings.xhr(),nativeSetHeader=xhr.setRequestHeader,abortTimeout;if(deferred){deferred.promise(xhr)}if(!settings.crossDomain){setHeader("X-Requested-With","XMLHttpRequest")}setHeader("Accept",mime||"*/*");if(mime=settings.mimeType||mime){if(mime.indexOf(",")>-1){mime=mime.split(",",2)[0]}xhr.overrideMimeType&&xhr.overrideMimeType(mime)}if(settings.contentType||(settings.contentType!==false&&settings.data&&settings.type.toUpperCase()!="GET")){setHeader("Content-Type",settings.contentType||"application/x-www-form-urlencoded")}if(settings.headers){for(name in settings.headers){setHeader(name,settings.headers[name])}}xhr.setRequestHeader=setHeader;xhr.onreadystatechange=function(){if(xhr.readyState==4){xhr.onreadystatechange=empty;clearTimeout(abortTimeout);var result,error=false;if((xhr.status>=200&&xhr.status<300)||xhr.status==304||(xhr.status==0&&protocol=="file:")){dataType=dataType||mimeToDataType(settings.mimeType||xhr.getResponseHeader("content-type"));result=xhr.responseText;try{if(dataType=="script"){(1,eval)(result)}else{if(dataType=="xml"){result=xhr.responseXML}else{if(dataType=="json"){result=blankRE.test(result)?null:$.parseJSON(result)}}}}catch(e){error=e}if(error){ajaxError(error,"parsererror",xhr,settings,deferred)}else{ajaxSuccess(result,xhr,settings,deferred)}}else{ajaxError(xhr.statusText||null,xhr.status?"error":"abort",xhr,settings,deferred)}}};if(ajaxBeforeSend(xhr,settings)===false){xhr.abort();ajaxError(null,"abort",xhr,settings,deferred);return xhr}if(settings.xhrFields){for(name in settings.xhrFields){xhr[name]=settings.xhrFields[name]}}var async="async" in settings?settings.async:true;xhr.open(settings.type,settings.url,async,settings.username,settings.password);for(name in headers){nativeSetHeader.apply(xhr,headers[name])}if(settings.timeout>0){abortTimeout=setTimeout(function(){xhr.onreadystatechange=empty;xhr.abort();ajaxError(null,"timeout",xhr,settings,deferred)},settings.timeout)}xhr.send(settings.data?settings.data:null);return xhr};function parseArguments(url,data,success,dataType){if($.isFunction(data)){dataType=success,success=data,data=undefined}if(!$.isFunction(success)){dataType=success,success=undefined}return{url:url,data:data,success:success,dataType:dataType}}$.get=function(){return $.ajax(parseArguments.apply(null,arguments))};$.post=function(){var options=parseArguments.apply(null,arguments);options.type="POST";return $.ajax(options)};$.getJSON=function(){var options=parseArguments.apply(null,arguments);options.dataType="json";return $.ajax(options)};$.fn.load=function(url,data,success){if(!this.length){return this}var self=this,parts=url.split(/\s/),selector,options=parseArguments(url,data,success),callback=options.success;if(parts.length>1){options.url=parts[0],selector=parts[1]}options.success=function(response){self.html(selector?$("<div>").html(response.replace(rscript,"")).find(selector):response);callback&&callback.apply(self,arguments)};$.ajax(options);return this};var escape=encodeURIComponent;function serialize(params,obj,traditional,scope){var type,array=$.isArray(obj),hash=$.isPlainObject(obj);$.each(obj,function(key,value){type=$.type(value);if(scope){key=traditional?scope:scope+"["+(hash||type=="object"||type=="array"?key:"")+"]"}if(!scope&&array){params.add(value.name,value.value)}else{if(type=="array"||(!traditional&&type=="object")){serialize(params,value,traditional,key)}else{params.add(key,value)}}})}$.param=function(obj,traditional){var params=[];params.add=function(k,v){this.push(escape(k)+"="+escape(v))};serialize(params,obj,traditional);return params.join("&").replace(/%20/g,"+")}})(Zepto);(function(a){a.fn.serializeArray=function(){var b=[],c;a([].slice.call(this.get(0).elements)).each(function(){c=a(this);var d=c.attr("type");if(this.nodeName.toLowerCase()!="fieldset"&&!this.disabled&&d!="submit"&&d!="reset"&&d!="button"&&((d!="radio"&&d!="checkbox")||this.checked)){b.push({name:c.attr("name"),value:c.val()})}});return b};a.fn.serialize=function(){var b=[];this.serializeArray().forEach(function(c){b.push(encodeURIComponent(c.name)+"="+encodeURIComponent(c.value))});return b.join("&")};a.fn.submit=function(c){if(c){this.bind("submit",c)}else{if(this.length){var b=a.Event("submit");this.eq(0).trigger(b);if(!b.isDefaultPrevented()){this.get(0).submit()}}}return this}})(Zepto);(function(b){if(!("__proto__" in {})){b.extend(b.zepto,{Z:function(f,d){f=f||[];b.extend(f,b.fn);f.selector=d||"";f.__Z=true;return f},isZ:function(d){return b.type(d)==="array"&&"__Z" in d}})}try{getComputedStyle(undefined)}catch(c){var a=getComputedStyle;window.getComputedStyle=function(d){try{return a(d)}catch(f){return null}}}})(Zepto)}}catch(e){}try{if(typeof(jQuery)=="undefined"){(function(d){var f={},h=d.fn.data,b=d.camelCase,c=d.expando="Zepto"+(+new Date()),j=[];function g(n,l){var o=n[c],k=o&&f[o];if(l===undefined){return k||i(n)}else{if(k){if(l in k){return k[l]}var m=b(l);if(m in k){return k[m]}}return h.call(d(n),l)}}function i(m,l,n){var o=m[c]||(m[c]=++d.uuid),k=f[o]||(f[o]=a(m));if(l!==undefined){k[b(l)]=n}return k}function a(l){var k={};d.each(l.attributes||j,function(n,m){if(m.name.indexOf("data-")==0){k[b(m.name.replace("data-",""))]=d.zepto.deserializeValue(m.value)}});return k}d.fn.data=function(k,l){return l===undefined?d.isPlainObject(k)?this.each(function(m,n){d.each(k,function(o,p){i(n,o,p)})}):this.length==0?undefined:g(this[0],k):this.each(function(){i(this,k,l)})};d.fn.removeData=function(k){if(typeof k=="string"){k=k.split(/\s+/)}return this.each(function(){var m=this[c],l=m&&f[m];if(l){d.each(k||l,function(n){delete l[k?b(this):n]})}})};["remove","empty"].forEach(function(k){var l=d.fn[k];d.fn[k]=function(){var m=this.find("*");if(k==="remove"){m=m.add(this)}m.removeData();return l.call(this)}})})(Zepto)}}catch(e){}!function(a){var b=function(d,c,f){if(f){f.stopPropagation();f.preventDefault()}this.$element=a(d);this.$newElement=null;this.button=null;this.label=null;this.labelPrepend=null;this.options=a.extend({},a.fn.checkbox.defaults,this.$element.data(),typeof c=="object"&&c);this.buttonStyle=this.options.buttonStyle;this.buttonStyleChecked=this.options.buttonStyleChecked;this.defaultState=this.options.defaultState;this.defaultEnabled=this.options.defaultEnabled;this.init()};b.prototype={constructor:b,init:function(f){this.$element.hide();this.$element.attr("autocomplete","off");var g=this.$element.attr("class")!==undefined?this.$element.attr("class").split(/\s+/):"";var d=this.getTemplate();this.$element.after(d);this.$newElement=this.$element.next(".bootstrap-checkbox");this.button=this.$newElement.find("button");this.label=this.$newElement.find("span.label-checkbox");this.labelPrepend=this.$newElement.find("span.label-prepend-checkbox");for(var c=0;c<g.length;c++){if(g[c]!="checkbox"){this.$newElement.addClass(g[c])}}this.button.addClass(this.buttonStyle);if(this.$element.data("default-state")!=undefined){this.defaultState=this.$element.data("default-state")}if(this.$element.data("default-enabled")!=undefined){this.defaultEnabled=this.$element.data("default-enabled")}this.checkEnabled();this.checkChecked();this.checkTabIndex();this.clickListener()},getTemplate:function(){var f='<span class="button-checkbox bootstrap-checkbox"><button type="button" class=""><span class="tick '+this.options.checkedClass+'" style="display:none;"></span><span class="tick '+this.options.uncheckedClass+'"></span></button></span>';var d=this.$element.data("label")?'<span class="label-checkbox">'+this.$element.data("label")+"</span>":"",c=this.$element.data("label-prepend")?'<span class="label-prepend-checkbox">'+this.$element.data("label-prepend")+"</span>":"";if(this.$element.data("label")||this.$element.data("label-prepend")){f='<label class="checkbox bootstrap-checkbox">'+c+f+d+"</label>"}return f},checkEnabled:function(){var c=this.$element.is(":disabled");if(c){this.$element.attr("disabled","disabled")}else{this.$element.removeAttr("disabled")}this.$newElement.toggleClass("disabled",this.$element.is(":disabled"))},checkTabIndex:function(){if(this.$element.is("[tabindex]")){var c=this.$element.attr("tabindex");this.button.attr("tabindex",c)}},checkChecked:function(){if(this.$element.is(":checked")){this.button.find("span."+this.options.checkedClass).show();this.button.find("span."+this.options.uncheckedClass).hide();if(this.buttonStyleChecked){this.button.addClass(this.buttonStyleChecked);this.button.removeClass(this.buttonStyle)}}else{this.button.find("span."+this.options.checkedClass).hide();this.button.find("span."+this.options.uncheckedClass).show();if(this.buttonStyleChecked){this.button.addClass(this.buttonStyle);this.button.removeClass(this.buttonStyleChecked)}}},clickListener:function(){var c=this;this.button.parent().on("click",function(d){if(c.$element[0].disabled){return false}d.preventDefault();c.$element.click();c.checkChecked()});this.$element.on("change",function(d){c.checkChecked()});this.$element.parents("form").on("reset",function(d){c.$element.prop("checked",c.defaultState);c.$element.prop("disabled",!c.defaultEnabled);c.checkEnabled();c.checkChecked();d.preventDefault()})},setOptions:function(c,d){if(c.checked!=undefined){this.setChecked(c.checked)}if(c.enabled!=undefined){this.setEnabled(c.enabled)}},setChecked:function(c){this.$element.prop("checked",c);this.checkChecked()},click:function(c){this.$element.click();this.checkChecked()},change:function(c){this.$element.change()},setEnabled:function(c){if(!c){this.$element.attr("disabled","disabled")}else{this.$element.removeAttr("disabled")}this.checkEnabled()},toggleEnabled:function(c){var d=!this.$element.is(":disabled");if(d){this.$element.attr("disabled","disabled")}else{this.$element.removeAttr("disabled")}this.checkEnabled()}};a.fn.checkbox=function(c,d){return this.each(function(){var h=a(this),g=h.data("checkbox"),f=typeof c=="object"&&c;if(!g){h.data("checkbox",(g=new b(this,f,d)));if(g.options.constructorCallback!=undefined){g.options.constructorCallback(g.$element,g.button,g.label,g.labelPrepend)}}else{if(typeof c=="string"){g[c](d)}else{g.setOptions(c,d)}}})};a.fn.checkbox.defaults={buttonStyle:"btn-link",buttonStyleChecked:null,checkedClass:"cb-icon-check",uncheckedClass:"cb-icon-check-empty",defaultState:false,defaultEnabled:true,constructorCallback:null}}(window.jQuery||window.$);$(document).ready(function(){var g=$("#wallet-details");var R=g.data("available");var ae=g.data("balance");var F=g.data("wallet-only");var a=$("#promocode-details").length?true:false;var aa=g.data("wallet-used");var K=$("#auth-config").data("value");var J=$("#other-details").data("save-card-mandatory");if(ae){ae=Math.round(ae*100)/100}var k=$("#payment-details");var ac=k.data("cod-hybrid-allowed");var I=k.data("offline-paymode");var Z=k.data("amount");var P=k.data("limeroad");var A=$("#addMoney-details");var j=A.data("available");var Y=A.data("selected");var f=false;var r=k.data("hybrid-allowed")||false;var z=$("#current-payment-type").data("value");var s=$("#error-details").data("available");var au=$("#other-details").data("subscription");var L=$("#other-details").data("subs-ppi-only");var G=$("#other-details").data("subs-mode");var S=$("#payment-details").data("save-card-amount");var am=$("#login-details").data("value");$("body").on("click",".cards-control .card",function(az){$(this).siblings().removeClass("active");$(this).addClass("active");var ay=$(this).parents(".cards-tabs");ay.find(".cards-content .content").removeClass("active");var aA=$(this).find("a").attr("href");var av=ay.find(aA).addClass("active");var ax=ay.data("last-paytmcash-state");var aw=ay.find(".cards-control");aw.click();if($(window).width()<600){window.setTimeout(function(){$(window).scrollTop(ay.position().top+ay.find(".cards-content").position().top-20)},100)}else{var N=av.find("input[type=text], input[type=tel]").eq(0).focus();if(N.hasClass("disabled")){av.find("input[type=password]").eq(0).focus()}}if(az&&az.keyCode){$(".error1").removeClass("error1");$(".error2").addClass("hide")}if(I){if($("a[href='#cheque-dd-neft']").parent().hasClass("active")){$("#paytm-cash-checkbox").checkbox("click");af()}else{if(az&&az.which){if($("a[href='#cheque-dd-neft']").parent().hasClass("active")==false&&$("#paytm-cash-checkbox:checked").length==0&&$(".payAmount .blur-overlay").hasClass("show")==false){return}else{if($("a[href='#cheque-dd-neft']").parent().hasClass("active")==false&&$("#paytm-cash-checkbox:checked").length==0){$("#paytm-cash-checkbox").checkbox("click")}}}U();$(".payAmount .fullWalletDeduct").addClass("f-hide")}}return false});$("body").on("click","#paytm-wallet",function(){$("#login-btn").click()});$(".checkbox").checkbox();$(".banks-panel .checkbox").on("change",function(){setTimeout(function(){$(".banks-panel .checkbox").checkbox("checkChecked")},100)});$(".banks-panel .bank-logo").click(function(){$(this).parents("li").find(".checkbox").checkbox("click")});$(".payAmount .checkbox").on("change",M);function M(){var av=$(this)[0].checked;var N=$(this).parents(".card");if(av){N.addClass("active");N.find(".btn-submit").addClass("active")}else{N.removeClass("active");N.find(".btn-submit").removeClass("active")}}function ag(){if(a){var aB=$("#promocode-details");promocode={type:aB.data("type"),paymentModes:aB.data("paymentmodes").toString().split(","),nbList:aB.data("nblist").toString().split(","),cardList:aB.data("cardlist").toString().split(","),cardTypeList:aB.data("cardtypelist").toString(),promoErrorMsg:aB.data("errormsg"),checkPromoValidity:aB.data("checkpromovalidity")};$(".payAmount").addClass("hide")}if(promocode.type=="DISCOUNT"){if(_.indexOf(promocode.paymentModes,"PPI")!=-1){$(".payAmount").removeClass("hide")}}if(promocode.type=="CASHBACK"){$(".cards-content .content").addClass("f-hide");$(".cards-control .card").addClass("hide");var aA=0;if(promocode.cardList.length){savedCardsElms=$("#sc-card .control-group.card");aA=savedCardsElms.not(".hide").length}var ay=promocode.paymentModes;if(ay.indexOf("CC")!=-1||ay.indexOf("DC")!=-1){if(aA>0){ay.push("SC")}else{}}if(promocode.nbList.length){var az=0;$(".netbanking-panel li").each(function(){var aC=$(this).find("input.checkbox").val();if(promocode.nbList.indexOf(aC)==-1){$(this).addClass("hide")}else{az++}});if(az==0){$("#popular-banks-wrapper").addClass("hide")}var ax=0;$("select#nbSelect option").each(function(){var aC=$(this).val();if(promocode.nbList.indexOf(aC)==-1){$(this).attr("disabled","disabled")}else{ax++}});if(ax==0){$("#other-banks-wrapper").addClass("hide")}}for(var N=0;N<ay.length;N++){var av=ay[N];var aw=$('a[href="#'+av.toLowerCase()+'-card"]').parent().removeClass("hide");$("div#"+av.toLowerCase()+"-card").removeClass("f-hide")}if(_.indexOf(ay,"PPI")!=-1){$(".payAmount").removeClass("hide");showAllPaymentModes();$(".promocode-options-msg-2, .promocode-options-msg").toggleClass("hide")}if($(".cards-control .card.active:not(.hide)").length==0){E()}}}showAllPaymentModes=function(){$(".cards-content .content").removeClass("f-hide");$(".cards-control .card").removeClass("hide");$("#sc-card .control-group.card").removeClass("hide");$("#popular-banks-wrapper, #other-banks-wrapper").removeClass("hide");$(".netbanking-panel li").removeClass("hide");$("select#nbSelect option").removeAttr("disabled");$(".payAmount").removeClass("hide");$(".promocode-options-msg-2, .promocode-options-msg").toggleClass("hide");$("a#show-other-options").hide();a=false;O()};$(".sc-cards .checkbox").on("change",function(aw,N){var ay=$(this).parents(".sc-cards");var ax=$(this).parents(".cards-tabs");ay.find(".checkbox").each(M);if(!N){var av=ay.find(".sc-checkbox:checked");if(av.length==0){ax.find(".cards-control .card").eq(0).click()}}});$(".sc-cards .checkbox").on("change",function(){$(this).parents(".sc-cards").find(".checkbox").checkbox("checkChecked")});$("body").on("click",".deleteCard",function(){var av=$(this).attr("cardId");var aw=$(this).closest(".card").find(".savedCardLabel").val();$("#delete-confirm-modal").toggleClass("md-show");if(!$(this).hasClass("btn-submit")){$("#delete-confirm-modal .deleteCard").data("confirmCardId",av);$("#delete-confirm-modal .del-card-num").text(aw)}var N=$(this).data("confirmCardId");if(N){av=N;$.post("DeleteCardDetails",{savedCardId:av,MID:K.MID,ORDER_ID:K.ORDERID},function(ay,ax){if("success"==ax){$(".deleteCard[id=delete-"+av+"]").parents(".control-group").remove();ab()}})}return false});$(".scCvvInput").on("keyup",function(){var ay=$(this).val();var N=$(this).parents(".card");var av=parseInt($(this).attr("maxlength"));var aw=parseInt($(this).attr("minlength"));var ax;if(!isNaN(ay)&&(ay.length>=aw&&ay.length<=av)){ax=true}else{ax=false}N.find("#scSubmit").toggleClass("valid",ax).trigger("change-validity")});$("input.sc-checkbox").on("change",function(az){var aw=$(this).parents("form");var N=$(this).parents(".card");var av=$(this).parents(".cards-tabs");var ay=$(this).parents(".sc-cards");aw.find("#scCvvBox")[0].value="";aw.find(".saveCardCvvDiv").hide();ay.find(".required").removeClass("required");var ax=this;setTimeout(function(){if(ax.checked){ay.find(".btn-submit").addClass("hide");aw.find(".btn-submit").removeClass("hide");ay.find("input.sc-checkbox").not(ax).each(function(){if(this.checked){this.checked=false;$(this).trigger("change")}});var aA=$(ax).attr("id");aw.find("#savedCardId")[0].value=aA;aw.find("#cvvDiv-"+aA).show();if(!N.find("#scSubmit").hasClass("no-check")){N.find("#scSubmit").addClass("required")}}},100);aw.find(".scCvvError").hide();aw.find(".scCvvInput").removeClass("error1").focus()});$("body").on("click",".innerTabs a",function(av){var N=$(this).attr("href");var aw=$(this).parents("#merchant-payment-modes");$(".innerTabs li").removeClass("active");$(this).parent("li").addClass("active");$(".neftddBox").addClass("hide");aw.find(N).removeClass("hide");return false});$("body").on("mouseover",".infoBox",function(N){$(this).siblings("div.info_checkDDNeft").removeClass("hide")});$("body").on("mouseout",".infoBox",function(N){$(this).siblings("div.info_checkDDNeft").addClass("hide")});$("body").on("change",".offlineSelect",function(aw){var N=$(this).val();var av=$(this).parents("form");if($(this).val()){av.find("#bankCode").val(N)}});$("body").on("click","#scSubmit",function(ax){var av=$(this).parents("form");var N=av.find(".control-group.active");var aw=N.find(".scCvvInput").val();av.find("#scCvvBox")[0].value=aw});$("input[name=cno][checked]").trigger("change");$(".emi-form input.ccCardNumber").on("keyup change",function(){ccCard=$(this);var az=$(this).val().replace(/\s/g,"");var ax=$(this).parents("form");if(az.length==6){checkboxEL=ax.find("input[name=emiPlanId]:checked");var aA=checkboxEL.siblings("input.isAjaxRequired").val();if(aA=="true"){var av=checkboxEL.val();var aw=ax.find("input[name=emiBankName]").val();var ay=[];ay.push("emiPlanId="+av);ay.push("bin="+az);ay.push("emiBankName="+aw);var N="checkEmiCardValidity?"+ay.join("&")+"&"+$("#queryStringForSession").data("value");$.get(N,function(aD,aB,aE){var aC=JSON.parse(aD);if(aC.isValid==0){ax.find("div#cardInvalidmsg").show()}else{ax.find("div#cardInvalidmsg").hide()}})}}else{ax.find("div#cardInvalidmsg").hide()}});$(".emi-form").on("change keyup",u);$(".emiBankSelect").on("change",function(){if($(".emi-form").find("div#cardInvalidmsg")){$(".emi-form").find("div#cardInvalidmsg").hide()}if($(".emi-form input.ccCardNumber")){$(".emi-form input.ccCardNumber").val("")}var ax=$(this).parent();var N=$(this).val();ax.find(".emi-bank-plans").addClass("hide");var az=ax.find("."+N+"-bank").removeClass("hide");var ay=az.find("input").eq(0);ay.checkbox("click");var av=$(this).closest("form");av.find("input[name=emiBankName]").val(N);var aw=N=="none"?true:false;av.find(".card-details-wrapper").toggleClass("hide",aw)});$("#emi-card .checkbox").on("change",function(){setTimeout(function(){$("#emi-card .checkbox").checkbox("checkChecked")},100)});$(".emi-bank-map:not(.hide)").find(".emiBankSelect.selected").change();$(".btn-change-rewards-details").click(function(){$(".rewards-otp-form").hide();$(".rewards-card-form").show();$("#rewardsAction").val("CARD_INPUT");return false});$(".rewards-form").on("change keyup",t);function t(){var av=$(this);var aw=av.find("#rewardsProgram");var aB=aw.val();var aE=aB=="-1"?false:true;aw.toggleClass("valid",aE);var aA=av.find("#rewardsOTP");var aJ=aA.val();var aH=!isNaN(aJ)&&aJ.length==6?true:false;aA.toggleClass("valid",aH);var az=av.find("#rewardsCardNo");var ay=av.find("input[name=cardNumber]");var ax=ay.val();var aG=!isNaN(ax)&&ax.length>=12?true:false;ay.toggleClass("valid",aG);var aD=av.find("#rewardsMobile");var aC=aD.val();var aI=!isNaN(aC)&&aC.length==10?true:false;aD.toggleClass("valid",aI);if(av.find(".rewards-card-form").hasClass("hide")){av.find(".rewards-card-form .required").addClass("valid")}else{av.find(".rewards-otp-form .required").addClass("valid")}var N=n(ax);if(N=="maestro"){av.find("#maestroOpt").show()}if(N=="amex"||N=="diners"){N="INVALID CARD"}var aF=N=="INVALID CARD"?"d":N;az.removeClass("d maestro master visa diners rupay");az.addClass(aF);av.trigger("change-validity")}$(".dc-form").on("change keyup",aj);function aj(){var aw=$(this);var aH=aw.find("select.dcExpMonth");var aD=aH.val();var ay=aD=="0"?false:true;aH.toggleClass("valid",ay);var ax=aw.find("select.dcExpYear");var aF=ax.val();var aA=aF=="0"?false:true;ax.toggleClass("valid",aA);var av=aw.find("input.dcCvvBox");var az=av.val();var aI=(!isNaN(az)&&(az.length==3||az.length==4))?true:false;av.toggleClass("valid",aI);var aE=false;var aC=aw.find("input.dcCardNumber");var aB=aw.find("input[name=cardNumber]");var aJ=aB.val();if(!isNaN(aJ)&&aJ.length>=12&&aJ.length<=19){aw.find(".cvv-clue-box").removeClass("hide");aE=true}aB.toggleClass("valid",aE);aw.find("#dcStoreCardWrapper").show();aw.find("#maestroOpt").hide();var N=n(aJ);if(N=="maestro"){aw.find(".cvv-clue-box").addClass("hide");aw.find("#maestroOpt").show();aH.add(ax).add(av).addClass("valid")}if(N=="amex"||N=="diners"){N="INVALID CARD"}var aG=N=="INVALID CARD"?"d":N;aC.removeClass("d maestro master visa diners rupay");aC.addClass(aG);aw.trigger("change-validity")}$("input[name=cvvNumber], .scCvvInput").on("keypress",aq);function aq(av){var N=(av.which)?av.which:evt.keyCode;if(N>31&&(N<48||N>57)){av.preventDefault();return false}return true}$(".cc-form").on("change keyup",u);function u(){var N=$(this);var aK=N.find("select.ccExpMonth");var aJ=aK.val();var aw=aJ=="0"?false:true;aK.toggleClass("valid",aw);var aL=N.find("select.ccExpYear");var aC=aL.val();var aB=aC=="0"?false:true;aL.toggleClass("valid",aB);var av=N.find("input.ccCvvBox");var aA=av.val();var az=(!isNaN(aA)&&(aA.length==3))?true:false;if(N.find("input.ccCardNumber").hasClass("amex")){var az=(!isNaN(aA)&&(aA.length==4))?true:false}av.toggleClass("valid",az);var ax=false;var aF=N.find("input.ccCardNumber");var aG=N.find("input[name=cardNumber]");var aE=aG.val();var aH=n(aE);var ay=N.find(".clue-box");if(!isNaN(aE)&&aE.length>=12&&aE.length<=19){var aD=aH=="amex"?".amex-clue":".default-clue";N.find(aD).removeClass("hide");ay.removeClass("hide");ax=true}else{N.find(".cc-cvv-clue").addClass("hide");ay.addClass("hide");ax=false}aG.toggleClass("valid",ax);var aI=aH=="INVALID CARD"?"c":aH;aF.removeClass("c amex master visa diners rupay");aF.addClass(aI);N.trigger("change-validity")}$("form.validated").submit(function(N){$(this).find(".ccCardNumber, .dcCardNumber, rewardsCardNumber").each(function(){$(this).trigger("keyup")})});var o=false;$(".btn-submit").click(function(az){var ay=$(this).closest("form");var N=false;try{ay.find(".required").not(".valid").each(function(){i(ay,$(this));N=true})}catch(az){}if(N||o){return false}o=true;var aA=$("<div class='spinner-blue'></div>");var aB=$("<div class='disable_overlay'></div>");var aw=ay.find(".btn-submit.active").add(ay.find(".btn-submit"));aw.eq(0).append(aA);aw.eq(0).append(aB);var av=aw.find("input");var ax=av.val();av.data("value",ax);av.val("Processing...");setTimeout(function(){o=false;aw.find(".spinner-blue").remove();aw.find(".disable_overlay").remove();av.val(av.data("value"))},30000);ay.find("#ccCvvBox, #dcCvvBox").attr("type","text").hide();setTimeout(function(){ay.submit()},500);az.preventDefault();return true});$("body").on("click",".savedCardbtn",function(az){var N=$(this).closest("form");var aA=N.find(".control-group.active");var aw=aA.find(".scCvvInput");if($(this).hasClass("blured")){$(".payAmount .checkbox").checkbox("click")}var ay=aw.val();if(aA.find(".sc-icon").hasClass("AMEX-sc")){if(ay.length<4){aw.focus();aw.addClass("error1");return false}}else{if(ay.length!=3&&!aA.find(".sc-icon").hasClass("SBIME-sc")){aw.focus();aw.addClass("error1");return false}}aw.removeClass("error1");var aC=$("<div class='spinner-blue'></div>");var aD=$("<div class='disable_overlay'></div>");var av=N.find(".savedCardbtn").add(N.find(".savedCardbtn"));av.eq(0).append(aC);av.eq(0).append(aD);var aB=av.find("input");var ax=aB.val();aB.data("value",ax);aB.val("Processing...");setTimeout(function(){o=false;av.find(".spinner-blue").remove();av.find(".disable_overlay").remove();aB.val(aB.data("value"))},30000);N.find("#ccCvvBox, #dcCvvBox").attr("type","text").hide();setTimeout(function(){N.submit()},500);az.preventDefault();return true});$("form.validated").on("change-validity",function(av){var N=$(this);N.find(".required.valid").each(function(){i(N,$(this),true)})});function i(ax,ay,aw){var av=ay.attr("name");if(!av){return false}var N=ax.find("label[for="+av+"]");if(ay.prop("tagName")=="SELECT"){N=ax.find("label."+ay.attr("id"))}N.removeClass("shake red-text");if(aw){return false}setTimeout(function(){N.addClass("shake red-text")},10);setTimeout(function(){N.removeClass("shake")},2000)}$("#cn, #cn1, #rewardsCardNo").on("keyup",function(aw){var N=$(aw.target);var av=N.val();N.siblings("input[type=hidden]").val(av.replace(/ /g,""))});$("#cn, #cn1, #rewardsCardNo").on("keypress",function(ay){var N=$(ay.target);digit=String.fromCharCode(ay.which);if(!/^\d+$/.test(digit)){if(ay.which!==8){ay.preventDefault()}return}var ax=N.val();var av=parseInt(N.attr("maxlength"));var aw=/(?:^|\s)(\d{4})$/;if(aw.test(ax)&&ax.length<av-1){ay.preventDefault();return N.val(ax+" "+digit)}else{if(aw.test(ax+digit)&&ax.length<av-1){ay.preventDefault();return N.val(ax+digit+" ")}}});$("#cn, #cn1, #rewardsCardNo").on("keydown",function(aw){var N,av;N=$(aw.currentTarget);av=N.val();if(aw.meta){return}if(aw.which!==8){return}if((/\d\s$/).test(av)){aw.preventDefault();N.val(av.replace(/\d\s$/,""))}else{if((/\s\d?$/).test(av)==true){N.val(av.replace(/\s\d?$/,""));aw.preventDefault()}}});if(a){$("#cn, #cn1").on("blur",function(){var aw=$(this);var ax=aw.val();var ay=aw.data("type");if(!ax){return false}var av=promocode.cardList;var aD=promocode.cardTypeList;ax=ax.replace(/ /g,"");var N=n(ax);var aA=N+"-"+ay;var aC=false;if(aD.indexOf(aA)!=-1){aC=true}if(!aC&&av.indexOf(ax.substring(0,6))!=-1){aC=true}if(_.indexOf(promocode.paymentModes,"PPI")!=-1){aC=true}$(".promo-code-error").addClass("hide");if(!aC){$(this).closest("form").find(".promo-code-error").removeClass("hide").text(promocode.promoErrorMsg)}var az=this;if(aC&&promocode.checkPromoValidity&&ax.length>12){var aB="?cardNumber="+ax;$.getJSON("checkPromoValidity"+aB,function(aE){if(aE.error){$(az).closest("form").find(".promo-code-error").removeClass("hide").text(aE.errorMsg)}})}})}$(".ChequeDD-Pay").on("keyup",x);function x(){var aw=$(this).closest("form");var av=$(this);var N=av.val();var ax=(!isNaN(N)&&N.length==6)?true:false;av.toggleClass("valid",ax);aw.trigger("change-validity")}$("#neftNo").on("keyup",y);function y(){var aw=$(this).closest("form");var av=$(this);var N=av.val();var ax=(!isNaN(N)&&N.length>3)?true:false;av.toggleClass("valid",ax);aw.trigger("change-validity")}$(".offlineSelect").on("change",X);function X(){var aw=$(this).closest("form");var ax=$(this);var av=ax.val();var N=(av!=-1)?true:false;if(N){$(this).addClass("valid")}else{$(this).removeClass("valid");$(this).addClass("required")}aw.trigger("change-validity")}$(window).on("load",al);function al(){$(".offlineSelect").each(function(){var aw=$(this).closest("form");var ax=$(this);var av=ax.val();var N=(av!=-1)?true:false;if(N){$(this).addClass("valid");$(this).removeClass("required")}else{$(this).removeClass("valid")}aw.trigger("change-validity")})}$(".imps-form").on("keyup",B);function B(){var av=$(this);var aB=av.find("#mobileNo");var aw=aB.val();var aD=(!isNaN(aw)&&aw.length==10)?true:false;aB.toggleClass("valid",aD);var N=av.find("#mmid");var ax=N.val();var az=(!isNaN(ax)&&ax.length==7)?true:false;N.toggleClass("valid",az);var ay=av.find("#otp");var aC=ay.val();var aA=(!isNaN(aC)&&aC.length>5)?true:false;ay.toggleClass("valid",aA);av.trigger("change-validity")}$(".itz-form").on("keyup",ad);function ad(){var ax=$(this);var aA=ax.find("#itzCashNumber");var az=aA.val();var aw=(!isNaN(az)&&az.length==12)?true:false;aA.toggleClass("valid",aw);var N=ax.find("#itzPwd");var av=N.val();var ay=(!isNaN(av)&&av.length>3)?true:false;N.toggleClass("valid",ay);ax.trigger("change-validity")}$(".netbanking-panel input.bankRadio").on("change",function(ay){var ax=$(this).parents("form");var av=ax.find(".nbSelect");if(av.length){av[0].selectedIndex=0}var aw=$(this).parent().attr("id");var N=$(this).parent().attr("title");ax.find("#bankCode").val(aw);ax.find("#warningDiv").hide();ax.find("#errorMsg").text("");ax.find("#nbcardId").hide();ax.find("#nbSubmit").addClass("valid");$("#other-banks-wrapper .nbSelect option").each(function(az){if($(this).val()==aw){$(this).prop("selected",true)}});if(maintainenceNBBank[aw]){ax.find("#errorMsg").text(N+" is not available due to maintenance activity. If possible, pay using a different payment mode or try after sometime.");ax.find("#warningDiv").show();ax.find("#nbSubmit").removeClass("valid")}else{if(lowPerfNBBank[aw]){ax.find("#warningDiv").show();ax.find("#errorMsg").text("Experiencing high failures on "+N+" in last few transactions. We recommend you to pay using a different mode.")}}ax.trigger("change-validity")});$(".nbSelect").on("change",function(az){var ax=$(this).parents("form");var aA=ax.find("input.bankRadio:checked");if(aA&&aA[0]){aA[0].checked=false}$(".banks-panel .checkbox").checkbox("checkChecked");var aw;aw=$(this).val();if($(this).val()!=-1){$(".netbanking-panel li div").each(function(){checkedbank=$(this);banksVal=$(this).attr("id");if(aw==banksVal){checkedbank.find("input.bankRadio").checkbox("click")}})}var av=$(this).val();var N=$(this).find("option:checked").text();ax.find("#bankCode").val(av);ax.find("#warningDiv").hide();ax.find("#errorMsg").text("");ax.find("#nbcardId").hide();var ay=(av==-1)?true:false;ax.find("#nbSubmit").toggleClass("valid",!ay);if(maintainenceNBBank[av]){ax.find("#errorMsg").text(N+" is not available due to maintenance activity. If possible, pay using a different payment mode or try after sometime.");ax.find("#nbSubmit").removeClass("valid");ax.find("#warningDiv").show()}else{if(lowPerfNBBank[av]){ax.find("#warningDiv").show();ax.find("#errorMsg").text("Experiencing high failures on "+N+" in last few transactions. We recommend you to pay using a different mode.")}}ax.trigger("change-validity")});$(".nbSelect option[selected]").trigger("change");$("body").on("click",".atm-panel li div",function(){var aw=$(this).parents("form");aw.find(".atm-panel li div a.checked").removeClass("checked");$(this).find("a").addClass("checked");var av=$(this).attr("id");var N=$(this).attr("title");aw.find("#atmBankCode").val(av);aw.find("#atmWarningDiv").hide();aw.find("#atmErrorMsg").text("");aw.find("#atmcardId").hide();aw.find("#atmSubmit").addClass("valid");if(maintainenceATMBank[av]){aw.find("#atmErrorMsg").text(N+" is not available due to maintenance activity. If possible, pay using a different payment mode or try after sometime.");aw.find("#atmWarningDiv").show();aw.find("#atmSubmit").removeClass("valid")}else{if(lowPerfATMBank[av]){aw.find("#atmWarningDiv").show();aw.find("#atmErrorMsg").text("Experiencing high failures on "+N+" in last few transactions. We recommend you to pay using a different mode.")}}aw.trigger("change-validity")});$(".atm-panel input.bankRadio[checked]").trigger("click");$("body").on("click","#login-btn",function(){ak("login");return false});$("body").on("click","#register-btn",function(){ak("register");return false});function ak(ay,aH){if(aH==undefined){aH=true}if($("#login-modal").hasClass("md-show")){return false}var aJ=false;if(ay=="register"){aJ=true}var ax=K.host;var aL=[];aL.push("response_type=code");aL.push("scope=paytm");aL.push("theme="+(K.login_theme||"pg"));if(au){aL.push("subscription=true")}var aN=K.client_id;var N=K.wap_client_id;var aM=K.return_url;aL.push("redirect_uri="+aM);if(K.EMAIL){aL.push("email-prefill="+K.EMAIL)}aL.push("ADDRESS1="+K.ADDRESS1);aL.push("ADDRESS2="+K.ADDRESS2);if(K.MSISDN){aL.push("mobile-prefill="+K.MSISDN)}var aF=$("#txnTransientId").data("value");var aI=$(window).width()<600;var aw=aI?"WAP":"WEB";var av=$("#other-details").data("jsessionid");var aB=aH?"MANUAL":"AUTO";var aE=K.eid;var aC=$("#jvmRoute").data("value");aL.push("state="+K.ORDERID+":"+K.MID+":"+aF+":"+aw+":"+av+":"+aB+":"+aE+":"+aC);var aG="/oauth2/authorize";if(aJ==true){aG="/register"}if(aI){aL.push("client_id="+N);aL.push("device=mobile")}else{aL.push("client_id="+aN)}if(aH&&K.auto_signup){aL.push("auto-signup=true");if(K.titletext){aL.push("titletext="+K.titletext)}}var aA=ax+aG+"?"+aL.join("&");aA=encodeURI(aA);if(aH){if(aI){setTimeout(function(){window.location.href=aA},100);return true}else{$("#login-modal").addClass("md-show")}}$("#login-iframe").attr("src",aA);$("#login-iframe").one("load",function(aO){$(this).addClass("loaded")});if($.support){if(!$.support.opacity){$(".md-overlay").css({filter:"alpha(opacity=60)"})}}try{var az=$(aH?"#pgTrackUrlManual":"#pgTrackUrlAuto").val();if(az!=null&&az!=""&&az!="null"){var aD=document.createElement("img");aD.src=az}}catch(aK){}}$("body").on("click","#logout-btn",function(){ar();return false});function ar(){var av=$("#auth-config").data("value");var N=av.AUTH_LOGOUT_URL+"/"+av.PAYTM_TOKEN;var ax=[];var ay=av.AUTH_LOGOUT_RETURN_URL+"?"+$("#queryStringForSession").data("value");ax.push("redirect_uri="+ay);var aw=N+"?"+ax.join("&");aw=encodeURI(aw);$("#logout-iframe").attr("src",aw);$("#logout-iframe").one("load",function(az){window.location=ay})}$("body").on("click",".close-modal",function(N){N.stopPropagation();$(this).closest(".md-modal").removeClass("md-show");$(".md-overlay").removeClass("md-overlay-show");$("#login-iframe").attr("src","");return false});function n(ax){var az=ax.substring(0,1);var av=ax.substring(0,2);var ay=ax.substring(0,4);var N=ax.substring(0,6);var aw;if(ax.length==19){aw="maestro"}else{if(av=="30"||av=="36"||av=="38"||av=="35"){aw="diners"}else{if(av=="34"||av=="37"){aw="amex"}else{if(az=="4"){aw="visa"}else{if(p(av,51,55)){aw="master"}else{if(ay=="6011"){aw="DISCOVER"}else{if(p(N,508500,508999)||p(N,606985,607984)||p(N,608001,608500)||p(N,652150,653149)){aw="rupay"}else{if(av=="50"||p(av,58,62)){aw="maestro"}else{if(ax.length==0){aw="INVALID CARD"}else{aw="none"}}}}}}}}}return aw}function p(aw,av,N){return(aw>=av&&aw<=N)?true:false}function q(){$("#merchant-payment-modes .card").one("click",v);$("#paytm-cash-checkbox").one("change",v)}function v(N){N.preventDefault();if($(N.target).hasClass("sc-checkbox")){return false}$("#merchant-payment-modes .card").off("click",v);$("#paytm-cash-checkbox").off("change",v);if(!$(N.target).hasClass("checkbox")){$("#paytm-cash-checkbox").checkbox("click")}}function T(){$("body").on("change","#paytm-cash-checkbox",function(aw){f=$("#paytm-cash-checkbox")[0].checked;O()});if(R){f=true}else{$("#paytm-cash-checkbox").checkbox("toggleEnabled")}$("*[disabled=disabled]").disabled(true);O();if(a){try{ag()}catch(N){var av=N}}}function ab(){try{var N=$(".sc-cards .control-group.card").length;if(N==0){$('a[href="#sc-card"]').parent().remove();$(".cards-control").each(function(){$(this).find(".card").eq(0).click()})}}catch(av){}}T();function O(){var az=Z;var ax=az;var aw=0;$("#totalAmountSpan, .totalAmountSpan").text(numberWithCommas(az));if(R){$("#yourBal").show();$("#yourBal .amt").text(numberWithCommas(ae));var av=ae>=az?az:ae;$("#balance-used").text(numberWithCommas(av))}var aA="";if(f){if(ae>=az){aA="full-wallet";if(au){aA="subs-full-wallet"}}else{if(au){aA="subs-default"}else{if(j){aA="add-money"}else{if(r&&ae>0){aA="hybrid"}else{aA="no-wallet"}}}}}else{aA="default"}var N=a&&$("#promocode-details").data("paymentmodes").toString().split(",");if(a&&_.indexOf(N,"PPI")==-1){aA="default"}if(s){s=false;if(aA=="no-wallet"){af()}if(aa||Y||au){d(aA)}else{aA="default"}}if(_.indexOf(["full-wallet","hybrid","add-money","subs-full-wallet","subs-default"],aA)!=-1){var ay=$("#paytm-cash-checkbox");if(ay.length&&ay[0].checked==false){$("#paytm-cash-checkbox").checkbox("click");return false}}$(".emi-bank-map-1").removeClass("hide");$(".emi-bank-map-2").addClass("hide");$("#merchant-payment-modes").removeClass("hide");$("#add-money-payment-modes").addClass("hide");$("#payment-user-msg .msg").addClass("hide");$(".fullWalletDeduct").addClass("f-hide");$(".fullWalletDeduct").addClass("f-hide");$("#cod-msg").show();$("#cod-hybrid-msg").hide();$("a[href='#cod-card']").parent().removeClass("hide");switch(aA){case"default":h();ax=az;$("#yourBal .amt").text(numberWithCommas(ae));$("input[name=walletAmount]").val("0");$("#walletBalance, #remBal").hide();$("#yourBal").show();$("#remBal").hide();$("#remWalletBal .amt").text(Math.round(ae*100)/100);$(".hybridMoneyAmount").text(numberWithCommas(ax));$(".bankPaymentText").removeClass("hide");$(".balance-used-box").addClass("hide");if(au){if(G=="CC"){$(".bankPaymentText").addClass("hide");$(".subs-default-msg").removeClass("hide")}if(ax==0){$("#cc-card").find(".storeCardWrapper").append($(".subs-min-amt-msg").eq(0).clone().removeClass("hide"));$(".scCvvInput").closest("div").hide();$("input[id=scSubmit]").addClass("valid")}}$("#fullWalletPayTxt").addClass("hide");$("#defultPayTxt").removeClass("hide");$(".exactPayment").addClass("hide");$("#paymentBox").hide();$("#walletAmountRem").removeClass("hide");$("#walletAmountRem .walletAmountRemTxt").text(numberWithCommas(ae));break;case"no-wallet":$(".bankPaymentText").removeClass("hide");af();$(".exactPayment").addClass("hide");$("#paymentBox").hide();$("#defultPayTxt").removeClass("hide");$("#walletAmountRem").removeClass("hide");$("#walletAmountRem .walletAmountRemTxt").text(numberWithCommas(ae));break;case"full-wallet":W();q();ax=az;aw=ae-az;$("input[name=walletAmount]").val(az);$(".fullWalletDeduct").removeClass("f-hide");$(".balance-used-box, .fullWalletText").removeClass("hide");$("#remWalletBal .amt").text(Math.round(aw*100)/100);$("#fullWalletPayTxt").removeClass("hide");$("#defultPayTxt").addClass("hide");$(".exactPayment").addClass("hide");$("#paymentBox").show();$("#walletAmountRem").addClass("hide");$("#walletAmountRem .walletAmountRemTxt").text(numberWithCommas(ae));break;case"hybrid":ax=az-ae;ax=Math.round(ax*100)/100;$("input[name=walletAmount]").val(ae);$(".hybridPaymentText").removeClass("hide");$(".balance-used-box").removeClass("hide");$(".hybridMoneyAmount").text(numberWithCommas(ax));$(".emi-bank-map-1, .emi-bank-map-2").toggleClass("hide");$("#cod-msg, #cod-hybrid-msg").toggle();$("#cod-amount").text(ax);$(".emi-bank-map:not(.hide)").find(".emiBankSelect.selected").change();if(ac!=true){$("a[href='#cod-card']").parent().addClass("hide");$("#cod-card").removeClass("active");if($("a[href='#cod-card']").parent().hasClass("active")){$(".cards-control .card:not(.hide) a").eq(0).click()}}if(I){if($("a[href='#cheque-dd-neft']").parent().hasClass("active")){$("#paytm-cash-checkbox").checkbox("click");af()}}$("#remWalletBal .amt").text(numberWithCommas(0));$("#fullWalletPayTxt").addClass("hide");$("#defultPayTxt").removeClass("hide");$(".exactPayment").removeClass("hide");$("#paymentBox").show();$("#walletAmountRem").addClass("hide");break;case"add-money":ax=az-ae;ax=Math.round(ax*100)/100;$("#merchant-payment-modes").addClass("hide");$("#add-money-payment-modes").removeClass("hide");$("input[name=walletAmount]").val(ae);$(".addMoneyAmount").text(numberWithCommas(ax));$(".balance-used-box").removeClass("hide");$(".addMoneyText").removeClass("hide");d(aA);$("#remWalletBal .amt").text(0);$("#fullWalletPayTxt").addClass("hide");$("#defultPayTxt").removeClass("hide");$(".exactPayment").removeClass("hide");$("#paymentBox").show();$("#walletAmountRem").addClass("hide");break;case"subs-default":ax=az-ae;ax=Math.round(ax*100)/100;$("#merchant-payment-modes").addClass("hide");$("#add-money-payment-modes").removeClass("hide");$("input[name=walletAmount]").val(ae);$("#yourBal .amt").text(numberWithCommas(ax));$("#remWalletBal .amt").text(numberWithCommas(0));if(L){$(".subs-ppi-only-complete-payment").removeClass("hide")}else{$(".subs-complete-payment").removeClass("hide")}$(".addMoneyAmount").text(numberWithCommas(ax));$(".balance-used-box").removeClass("hide");$("#walletBalance, #remBal").hide();$(".bankPaymentText, #yourBal").show();$(".fullWalletDeduct").addClass("f-hide");$("#payment-user-msg .msg").addClass("hide");if(L){$("input[name=storeCardFlag][type=checkbox]").checkbox("toggleEnabled")}d();$(".exactPayment").addClass("hide");$("#paymentBox").hide();$(".payAmount").addClass("hide");$("#walletAmountRem").addClass("hide");break;case"subs-full-wallet":ax=az;$("#merchant-payment-modes").addClass("hide");$("#add-money-payment-modes").removeClass("hide");$("input[name=walletAmount]").val(az);$(".fullWalletDeduct").addClass("f-hide");$(".bankPaymentText").hide();$(".saveCardAmount").text(numberWithCommas(S));$(".balance-used-box").removeClass("hide");if(ax==0){$(".wallet-pay-text, .payAmount").addClass("hide")}if($("input.sc-checkbox").length){$(".subs-select-card").removeClass("hide");$(".storeCardWrapper").append($(".subs-min-amt-msg").eq(0).clone().removeClass("hide"))}else{$(".subs-save-card").removeClass("hide")}$("input[id=scSubmit]").addClass("valid");if(L){$(".fullWalletDeduct").removeClass("f-hide");$(".payAmount").removeClass("hide");$(".subs-text, .wallet-pay-text, .subs-msgs .hr").addClass("hide");$(".subs-only-full-wallet").removeClass("hide")}$(".exactPayment").addClass("hide");$("#remWalletBal").hide();$("#paymentBox").show();$("#walletAmountRem").addClass("hide");break}$(".finalAmountSpan").html(numberWithCommas(ax));if(P){$("form .btn-submit input").val("Pay Rs. "+numberWithCommas(ax)+"/-")}}function d(av){var N=null;switch(z){case 5:N="sc";break;case 1:N="cc";break;case 2:N="dc";break;case 3:N="nb";break;case 8:N="atm";break;case 6:N="imps";break;case 11:N="rewards";break;case 13:N="emi";break;default:E(av);break}if(N){if(av=="add-money"){$('#add-money-payment-modes a[href="#'+N+'-card"]').click()}else{$('#merchant-payment-modes a[href="#'+N+'-card"]').click()}}}function E(N){if(N=="add-money"){$("#add-money-payment-modes .cards-control .card:not(.hide) a").eq(0).click()}else{$("#merchant-payment-modes .cards-control .card:not(.hide) a").eq(0).click()}}function at(av){av=av||false;var N=$("#paytm-cash-checkbox");if(N.length&&N[0].checked!=av){$("#paytm-cash-checkbox").checkbox("click")}}function af(){$(".fullWalletDeduct").addClass("f-hide");$("#remBal").hide();$(".payAmount .blur-overlay").addClass("show");$(".balance-used-box").addClass("hide")}function U(){$(".fullWalletDeduct").removeClass("f-hide");$(".balance-used-box").removeClass("hide");$(".payAmount .blur-overlay").removeClass("show")}function W(){ap(false)}function h(){ap(true)}function ap(N){var ax=$("#merchant-payment-modes");var aw=ax.find(".cards-control");var av=$("#merchant-payment-modes .card");if(N==false){av.addClass("blured");$(".savedCardbtn").addClass("blured")}else{$(".scCvvInput").focus();av.removeClass("blured");$(".savedCardbtn").removeClass("blured");if(ax.find(".cards-control .card.active").length==0){ax.find(".cards-control .card").first().click()}}}$(".btn-show-payment-details").click(function(){$(".payment-details").toggle();$(this).hide();$(".btn-hide-payment-details").show();return false});$(".btn-hide-payment-details").click(function(){$(".payment-details").toggle();$(this).hide();$(".btn-show-payment-details").show();return false});$("#login-btn, #register-btn, .popover-close a").click(function(){$(".login-popover").hide()});if($("#login-btn").length){if(K.autoLogin!="N"){var H=K.autoLogin=="M"?true:false;ak("login",H)}}$("#login-iframe").one("load",function(){setTimeout(function(){if($("#login-btn").length==0){return false}$("#login-stitch, #login-wait").toggle();if(!am&&F){ak()}},1000)});setTimeout(function(){var N=$("#login-success-alert").addClass("closed");setTimeout(function(){N.hide();$(".summary-card").addClass("mb20")},500)},3000);if(F){$("body").one("click",".closePop",function(av){var N=$("#login-iframe").hasClass("loaded")?"login":"pre-login";ah(av,{target:N});return false});var an=$("#paytm-cash-checkbox");if(!an.hasClass("disabled")){an.checkbox("toggleEnabled")}}if($(window).width()<600){$("#login-modal").hide();$("input.type-tel").attr("type","tel")}document.cookie="testcookie=true";if(!/testcookie/.test(document.cookie)){var b=$("#other-details").data("jsessionid");var c=$("form").attr("action");c=c.split("?");var w=c[0]+";jsessionid="+b;if(c.length>1){w=w+"?"+c[1]}$("form").attr("action",w);var D=$("a.cancel").attr("href");D=D.split("?");var V=D[0]+";jsessionid="+b;if(D.length>1){V=V+"?"+D[1]}$("a.cancel").attr("href",V)}$("a.cancel").click(ah);function ah(ax,aw){var av=this;if(aw&&aw.fake){return}var N="/oltp-web/cancelTransaction?"+$("#queryStringForSession").data("value");if(aw&&aw.target){N+="&target="+aw.target}$.get(N,function(aA,ay){if(ay=="success"){var aC=/<FORM[\s\S]*<\/FORM>/;var az=aC.exec(aA);if(!az){return $(av).trigger("click",{fake:true})}$("body").append(az[0]);var aB=$("form[name=TESTFORM]")[0];if(window.top!==window){aB.target="_parent"}aB.submit()}});ax.preventDefault()}try{C("onload")}catch(ao){}function C(N){var av=$("#txnTransientId").data("value");if(N=="onload"){$.post("/oltp/HANDLER_INTERNAL/UPDATE_OPEN?JsonData={TXNID:"+av+"}",null,function(ax){var aw=ax})}}if(J){$("input[name=storeCardFlag][type=checkbox]").not("[disabled]").checkbox("toggleEnabled")}if(au){$("input[name=storeCardFlag][type=checkbox]").checkbox("toggleEnabled");$(".payAmount").removeClass("active");$(".walletCheckbox").hide();$(".payAmount .text-box").removeClass("ml20")}var m=navigator.appName;var Q=navigator.userAgent;var l;var ai=Q.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i);if(ai&&(l=Q.match(/version\/([\.\d]+)/i))!=null){ai[2]=l[1]}ai=[ai[1],ai[2].substring(0,2)];if(ai[0]=="Safari"){if(ai[1]<6){$("#login-modal,#delete-confirm-modal").removeClass("md-effect-10");$(".md-overlay").css("-webkit-transition","none")}}});if(typeof String.prototype.trim!=="function"){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}}_={};var ArrayProto=Array.prototype;var nativeIndexOf=ArrayProto.indexOf;_.indexOf=function(f,c,d){if(f==null){return -1}var a=0,b=f.length;if(nativeIndexOf&&f.indexOf===nativeIndexOf){return f.indexOf(c,d)}for(;a<b;a++){if(f[a]===c){return a}}return -1};$.fn.disabled=function(a){a=a||false;if(a){$(this).addClass("disabled")}else{$(this).removeClass("disabled")}};$.fn.disableButton=function(a){a=a||false;$(this).disabled(a);if(a){$(this).attr("disabled","disabled")}else{$(this).removeAttr("disabled")}return $(this)};function numberWithCommas(a){return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")};
